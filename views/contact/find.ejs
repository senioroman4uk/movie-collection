<div class="row delimiter">
  <div class="col-md-6">
    <h4 class="uppercase">We have received such contact messages</h4>
  </div>
</div>
<div class="row padding-top-15 padding-bottom-15 bottom-30">
  <div class="col-md-12">
  <% if (contacts.length === 0) { %>
    <span class="alert alert-info">Sorry, we have no messages yet :(</span><b></b>
  <% }
     else { %>
        <table id="messages" class="table table-striped table-responsive table-hover">
          <tr>
            <th>id</th>
            <th>name</th>
            <th>email</th>
            <th>message</th>
            <th>ip</th>
            <th>created at</th>
          </tr>
          <% for(var i = 0; i < contacts.length; i++) { %>
            <tr>
              <td><%= contacts[i].id %></td>
              <td><%= contacts[i].name %></td>
              <td><%= contacts[i].email %></td>
              <td><%= contacts[i].message %></td>
              <td><%= contacts[i].ip %></td>
              <td><%= utilService.formatDate(contacts[i].createdAt, true) %></td>
            </tr>
          <% } %>
        </table>
    <% } %>
    </div>
</div>
<script id="elements">
  var elements = <%- JSON.stringify(contacts)%>;
  var _addElement = function(element, amount) {
    var tr = $('<tr/>');
    var props = ['id', 'name', 'email', 'message', 'ip', 'createdAt']
    element.createdAt = formatDate(new Date(element.createdAt), true);
    for(var i = 0; i < props.length; i++) {
      tr.append($('<td/>', {
        html: element[props[i]]
      }));
    }

    $('#messages').find('tbody').append(tr);
  }
</script>
<script type="text/javascript" src="/myjs/pagingController.js"></script>
